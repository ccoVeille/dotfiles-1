# ~/.xprofile - X11-specific login script (after ~/.profile)
# vim: ft=sh

if have auca-seed; then
	auca-seed &
fi

if [ ! "$DESKTOP_SESSION" ]; then
	compton &

	/usr/lib/notify-osd/notify-osd &

	/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1 &

	if have gnome-screensaver; then
		gnome-screensaver
	fi &

	xbindkeys &
fi

if [ "$DESKTOP_SESSION" != gnome ]; then
	xinput set-prop "ETPS/2 Elantech Touchpad" "libinput Tapping Enabled" 1 &
	xinput set-prop "ETPS/2 Elantech Touchpad" "libinput Accel Speed" 1.0 &

	if [ -f ~/.config/synclient.conf ]; then
		synclient $(grep "^[^#]" ~/.config/synclient.conf) > /dev/null &
	fi

	if [ "$HOSTNAME" = rain ]; then
		mpDris2 &
		mpris mpd notify-idle &
	fi
fi

systemctl --user --no-block start graphical.target

true
