# ~/.xprofile - X11-specific login script (after ~/.profile)
# vim: ft=sh

if have auca-seed; then
	auca-seed &
fi

if [ ! "$DESKTOP_SESSION" ]; then
	compton &

	/usr/lib/notify-osd/notify-osd &

	{ /usr/lib/mate-polkit/polkit-mate-authentication-agent-1 ||
	  /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1; } &

	if have gnome-screensaver; then
		gnome-screensaver
	fi &

	if have ibus-daemon; then
		ibus-daemon --xim
	fi &

	xbindkeys &
fi

if [ "$DESKTOP_SESSION" != gnome ]; then
	case $HOSTNAME in
		rain)	touchpad="ETPS/2 Elantech Touchpad";;
		frost)	touchpad="DLL063E:00 06CB:2934";;
	esac

	if [ "$touchpad" ]; then
		xinput set-prop "$touchpad" "libinput Tapping Enabled" 1 &
		xinput set-prop "$touchpad" "libinput Natural Scrolling Enabled" 1 &
	fi

	#if [ "$HOSTNAME" = rain ]; then
	#	mpDris2 &
	#	mpris mpd notify-idle &
	#fi
fi

systemctl --user --no-block start graphical.target

true
