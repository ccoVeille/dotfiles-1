# ~/.ssh/config: ssh_config(5)
# vim: ft=sshconfig

# note that the '#if' directives are not supported by any SSH client directly;
# instead, they are processed by the ssh/generate script.

#if OpenSSH && Version 6.3
IgnoreUnknown CanonicalDomains,CanonicalizeHostname,GSSAPIKeyExchange,PubkeyAcceptedKeyTypes
#endif

# work

Host ukradius
	HostName uk-radius.utenos-kolegija.lt
	User grawity
	IdentityFile ~/.ssh/id_ukolegija
	ForwardAgent yes

Host sw-a9-core sw-b56-edge
	HostName %h.utenos-kolegija.lt
	Port 42
	User admin
	IdentityFile ~/.ssh/id_ukolegija
	IdentitiesOnly yes
	ControlMaster no

Host sw-m7-adm sw-m7-klases
	HostName %h.utenos-kolegija.lt
	User admin
	KexAlgorithms diffie-hellman-group14-sha1

Host uk-radius
	HostName %h.utenos-kolegija.lt
	User grawity

Host uk-tandberg
	HostName tandberg.utenos-kolegija.lt
	User admin
	Ciphers 3des-cbc
	MACs hmac-sha1

Host uk-untangle
	HostName untangle.utenos-kolegija.lt
	User root

Host uk-epas uk-vpn uk-linux1
	HostName %h.utenos-kolegija.lt

Host uk-pf-aukstaiciu9 uk-pf-a9
	HostName pf-a9.utenos-kolegija.lt

Host uk-pf-ausros73 uk-pf-a73
	HostName pf-a73.utenos-kolegija.lt

Host uk-pf-maironio7 uk-pf-m7
	HostName pf-m7.utenos-kolegija.lt

Host uk-pf-maironio18 uk-pf-m18-adm uk-pf-m18
	HostName pf-m18.utenos-kolegija.lt

Host uk-pf-utenio2 uk-pf-u2
	HostName pf-u2.utenos-kolegija.lt

Host uk-pf-wisp uk-pf-m18-stud
	HostName pf-wisp.utenos-kolegija.lt

Host uk-pf-*
	User root

Host pf-*
	HostName %h.utenos-kolegija.lt
	User root

Host uk-* 193.219.181.192/26 2001:778:e27f::/48
	IdentityFile ~/.ssh/id_ukolegija
	ForwardAgent yes

Host *.utenos-kolegija.lt
	IdentityFile ~/.ssh/id_ukolegija
	ForwardAgent yes

# Cluenet and stuff

Host abacus eta gamma hawking radian virgule
	HostName %h.cluenet.org
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host gamma gamma.cluenet.org
	Port 2223

Host theos
	HostName %h.kyriasis.com
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host moose
	HostName moose.lairofthelords.com
	ForwardAgent yes

Host panther
	HostName %h.nathan7.eu
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host decay ghost river sky wolke
	HostName %h.nullroute.eu.org
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host rain rain.local
	HostkeyAlias rain.nullroute.eu.org
	ForwardAgent yes
	ForwardX11 yes

Host rain-vpn
	HostName 10.112.0.2
	HostkeyAlias rain.nullroute.eu.org
	ForwardAgent yes

Host snow snow.home snow.local
	HostkeyAlias snow.nullroute.eu.org
	User Mantas

# other hosts

Host m-net.arbornet.org
	HostKeyAlgorithms ssh-rsa,ssh-dss

Host aur
	HostName aur.archlinux.org
	User aur

Host github.com
	ControlMaster auto
	ControlPersist 5m

Host bazaar.launchpad.net
	KexAlgorithms diffie-hellman-group1-sha1
	PubkeyAcceptedKeyTypes ssh-rsa

Host ix.aperture-laboratories.science
	User NULLROUTE-MNT
	PubkeyAcceptedKeyTypes ssh-rsa

Host ofb.net
	ForwardAgent yes

Host ubnt
	HostName 192.168.1.20
	User ubnt
	UserKnownHostsFile /dev/null
	GlobalKnownHostsFile /dev/null
	StrictHostKeyChecking no
	ControlPersist no

# domain-wide settings

Host *.cluenet.org
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host *.kyriasis.com
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host *.nullroute.eu.org
	GSSAPIDelegateCredentials yes
	ForwardAgent yes

Host *.nathan7.eu
	ForwardAgent yes

Host *.vistech.net
	User grwty
	ControlMaster no

Host *.zt1
	HostName %h.nullroute.eu.org

# virtual machines on the laptop

Host *.core
	ForwardAgent yes
	UserKnownHostsFile ~/.ssh/known_hosts.core
	ControlMaster no

Host *.home *.local 10.* 192.168.* 10.0.0.0/8 192.168.0.0/16
	ForwardAgent yes
	UserKnownHostsFile ~/.ssh/known_hosts.local

# global options

Host * !bazaar.launchpad.net
	IdentityFile ~/.ssh/id_rsa_2011-11-01
	IdentityFile ~/.ssh/id_ed25519_2015-05-15

Host *
	CanonicalizeHostname yes
	CanonicalDomains nullroute.eu.org utenos-kolegija.lt
	Protocol 2
	HashKnownHosts no
	NoHostAuthenticationForLocalhost yes
	VerifyHostKeyDNS yes
	GSSAPIAuthentication yes
	GSSAPIKeyExchange yes
	SendEnv LANG TZ
	ControlPath ~/.ssh/S.%r@%h:%p

# zerotier reachability (not perfect, as iddb.d might have things cached even
# after leaving, but networks.d is only readable by root)

Match host *.zt1 exec "test ! -e /var/lib/zerotier-one/iddb.d/b63fe35308"
	ProxyJump wolke
